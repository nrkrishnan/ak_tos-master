<?xml version="1.0" encoding="UTF-8"?>
<argo:snx xmlns:argo="http://www.navis.com/argo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.navis.com/argo snx.xsd">
<digital-asset id="GvyUnitHazards" short-description="Unit Hazards Attr" groovy-code="import com.navis.apex.business.model.GroovyInjectionBase&#xA;&#xA;public class GvyUnitHazards {&#xA;&#xA; public String doIt(Object obj) &#xA; {&#xA;  println(&quot;In Class GvyUnitHazards.doIt()&quot;)&#xA;  def gvyBase = new GroovyInjectionBase()&#xA;  def gvyMsgFmt = gvyBase.getGroovyClassInstance(&quot;GvyMsgFormatter&quot;);&#xA;&#xA;  def u = obj&#xA;  def _isHazardous=u.getFieldValue(&quot;unitGoods.gdsIsHazardous&quot;)&#xA;  def isHazardous = gvyMsgFmt.doIt('isHazardous',_isHazardous)&#xA;&#xA;  def _hazImdg=u.getFieldValue(&quot;unitGoods.goodsThreeMainHazardCodes&quot;)&#xA;  def mostHazItem =   getMostHazMaterial(_hazImdg)&#xA;  def hazImdg = gvyMsgFmt.doIt('hazImdg',mostHazItem)&#xA;&#xA; def _hazUnNum=u.getFieldValue(&quot;unitGoods.goodsThreeMainHazardUNNumbers&quot;)&#xA;  def mostHazNum =   getMostHazMaterial(_hazUnNum)&#xA;  def hazUnNum = gvyMsgFmt.doIt('hazUnNum',mostHazNum)&#xA; &#xA;  def hazAttr =  isHazardous+hazImdg+hazUnNum&#xA;  println(hazAttr)&#xA;  return hazAttr;&#xA; &#xA; }&#xA;&#xA; public String getMostHazMaterial(String hazItem)&#xA;{&#xA;   def pattern = ','&#xA;&#xA;   if(hazItem != null){&#xA;     for(i in hazItem){&#xA;       if(i == pattern){&#xA;       def mostHazItem = hazItem.substring(0, hazItem.indexOf(i));&#xA;       return mostHazItem; &#xA;      }&#xA;     }&#xA;   }&#xA;  return null; &#xA;}&#xA;&#xA;&#xA;&#xA;}" />
</argo:snx>

