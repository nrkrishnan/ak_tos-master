<?xml version="1.0" encoding="UTF-8"?>
<argo:snx xmlns:argo="http://www.navis.com/argo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.navis.com/argo snx.xsd">
<digital-asset id="GvyEventUtil" short-description="GvyEventUtil" groovy-code="import com.navis.apex.business.model.GroovyInjectionBase;&#xA;import com.navis.services.business.event.Event;&#xA;import com.navis.services.business.event.EventFieldChange;&#xA; &#xA; // Event Utils using metafieldId and not Reportable Entity names&#xA; &#xA; // gdsConsigneeAsString for Consignee name&#xA; &#xA; public class GvyEventUtil {&#xA; &#xA; public String getPreviousPropertyAsString(Object event, String metafieldId) {&#xA;           def eventBase = event.getEvent();&#xA;           def change = eventBase.getEvntFieldChanges();&#xA;           if(change == null) return null;&#xA;           Iterator i1 = change.iterator();&#xA;           while(i1.hasNext()) {&#xA;              def efc = (EventFieldChange)i1.next();&#xA;              if(metafieldId.equalsIgnoreCase(efc.getEvntfcMetafieldId())) {&#xA;                 return efc.getPrevVal();&#xA;              }&#xA;           }&#xA;        &#xA;        return null;&#xA;}&#xA;&#xA;public boolean wasFieldChanged(Object event, String metafieldId)&#xA;    {&#xA;       def eventBase = event.getEvent();&#xA;       def change = eventBase.getEvntFieldChanges();&#xA;       if(change == null) return null;&#xA;       Iterator i1 = change.iterator();&#xA;       while(i1.hasNext()) {&#xA;          def efc = (EventFieldChange)i1.next();&#xA;          if(metafieldId.equalsIgnoreCase(efc.getEvntfcMetafieldId())) {&#xA;             return true;&#xA;          }&#xA;       }&#xA;               &#xA;       return false;&#xA;    }&#xA;&#xA;}&#xA;&#xA;&#xA;" />
</argo:snx>

